#从比特币到区块链技术

#### 顾文涛      15模具    201500150032
---

###比特币概述
比特币使用P2P网络中的各个节点，构成一个分布式数据库。与传统的银行的信用卡或者储蓄卡不同的是，比特币是去中心化的，即所有的账户信息不是保存在一个中心化的数据库（如银行的数据库），而是所有P2P网络上的节点都会保存一份数据。
这样做的好处是，比特币无法被破坏，几乎无法被黑客攻击（除非黑客控制了P2P网络中50%以上的电脑）。此外比特币一旦产生后，不像国家法定货币那般会受到国家的影响，完成遵从市场规律。

###比特币的几个技术问题
####1.如何保证用户有足够的余额。
例如你只有十个币，而你居然发起了一笔转20个币的交易怎么办。这个问题很好解决，因为区块链上记录了所有的比特币交易记录，只需要回溯所有的和你账户相关的历史交易就能知道你这个账户上到底有多少余额，余额不对矿工是会拒绝记录你的交易的。由此你可能又会产生一个疑问，那么最初的比特币是从哪里来的呢？ 最初的比特币是由系统奖励给记录区块的矿工的。每一个区块在生成的时候就会在生成这个区块的矿工的账户上生成一定数量的新比特币作为奖励。

####2.如何保证你的账户不被冒名顶替
这问题也很好解决，用数字签名技术就好了。每个比特币账户都有公钥和私钥。你发起交易的时候用私钥对交易信息签名，矿工收到信息后用公钥检查一下签名就好了。

####3.那么多矿工，如何决定该由哪个矿工生成下一个区块？
解决方案是这样的：中本聪设计了一个数学问题，这个数学问题会耗费大量的计算机cpu时间才能得出答案，同时每一次得出的答案都会作为下一次计算的初始条件进行技术。全世界的矿工一起来计算这个问题，谁先得出答案，他就可以用这个答案生成一个新的区块，再广播到网络中。收到这个新块数据的矿工会立即停止当前的计算，用新块里的数据重新进行下一次计算。这就是所谓的“挖矿”。矿工产生的区块一旦被网络接受，他就能获得一笔比特币作为酬劳。这时要考虑一种情况：如果同时有两个矿工各自得到一个正确答案，并各自生成了一个区块广播出去会发生什么呢？这时候在区块链上同一个位置就有了两个区块，所谓的“分叉”就出现了。分叉是绝对不允许的，所以当矿工发现区块链分叉之后，会选择最长的一条继续计算，短的那条区块链会被丢弃。


###比特币的不足
相比于中心化的系统，我觉得比特币也有很多的不足。1.效率问题。2.资源浪费。3.安全问题

传统的银行系统，当发生存取钱等交易时，数据库会以事务的方式进行，即满足ACID(原子性，一致性，隔离性，可持久性)。举个例子：A和B共用一个银行账户，当A在一台ATM机取钱时，于此同时B在另一台ATM机也取钱；A和B中只有一个人能取出钱来，一个人必须等待另一个人完成交易后才能进行下一笔交易。这样做的话，其实每笔交易都只会银行数据库留下一条记录，虽然有可能会被黑客攻击，但银行的安全性也是很高的，这种几率小到可以忽略。

但对于比特币这种系统，假设全世界一共有2000w份数据库，一笔交易要被认可，那么至少要被1000w份数据库写入。即会产生1000w条记录，加以网络普遍存在延时，可能一笔交易会耗费数分钟或者更久才能被系统认可。想想平常去超市买个东西，付钱都要付个十几分钟，这显然是很糟糕的。

对于资源浪费问题，分布式系统中的节点越多，耗费的储存空间也越大，因为每个人都要记录其余所有人的交易记录，会耗费更多的计算和储存资源。比如数据库大小只有1G，对于银行而言，可能也会进行分库或者复制，以及不多的数台或几十台机器就能保持系统的可用性。但是对于大型P2P网络，还是假设有2000w台机器，一共会耗费2PB的储存空间，以及上千万的矿机来维护系统的可用性。这显然是对资源的极大浪费。


密码学问题，当前比特币使用的是512位加密算法，这个密码的强度确实很高了，以当前的计算机而言是没有破解的可能性。但加密耗费的时间也是特别特别长的，以可归于上面的资源浪费问题。但是一旦量子计算机发明成功，破解512位密码是有这个可行性的。此外，若银行账户丢失，可以申请挂失以找回账户，但是比特币账户是个一串密钥，要是丢了就找不回来了。


###区块链为啥那么火呐
对于系统设计者而言，一旦以区块链技术为核心的系统开发完成，就几乎不需要去维护，而维护的工作会交给P2P网络上的所有用户。所以系统开发者省去大笔维护费用，而用户可能会承担更多的维护工作。

###区块链的技术核心
从技术角度讲，区块链涉及到的领域比较杂，包括分布式、存储、密码学、心理学、经济学、博弈论、网络协议等。

分布式技术有着很多的技术挑战，在分布式系统中，有一个著名的CAP理论：**Consistency(一致性),Availability(可用性),Partition tolerance(分区容错性)**三者不能全部满足。就比特币而言，一致性代表它要保证最后"账本"会同步到系统中的所有节点;而可用性，代表系统能在可以接受的时间内完成一笔交易;而分区容错性指，当系统中的节点不能正常通讯时，是否能独立工作。而比特币的分区容错性是没有的，而可用性也不太好，但一致性是得到很好满足的。比特币区块链考虑的是公开匿名场景下的最坏保证。引入了“工作量证明”策略来规避少数人恶意破坏数据，并通过概率模型保证最后大家看到的就是合法的最长链。撇开比特币的特殊场景，在节点没那么多时，会有更好的算法：以权益为抵押的 PoS、DPoS 和 Casper 等。这些算法在思想上都是基于经济利益的博弈，让恶意破坏的参与者损失经济利益，从而保证大部分人的合作。同时，确认必须经过多个区块的生成之后从概率学上进行保证。此外最著名的Poxas算法，在互联网企业的分布式系统也得到广泛的使用。

区块链目前最热门的应用前景是金融相关的服务，安全自然是讨论最多、挑战最大的话题。有如下几个方面是很难逃避的：首先是立法。对区块链系统如何进行监管？攻击区块链系统是否属于犯罪？攻击银行系统是要承担后果的。但是目前还没有任何法律保护区块链以及基于它的实现。其次是软件实现的潜在漏洞是无法避免的，对于金融系统来说，无论客户端还是平台侧，即便是很小的漏洞都可能造成难以估计的损失。还有就是作为一套完全的分布式系统，公有的区块链缺乏有效的调整机制，一旦运行起来，出现问题也难以修正。即使是让它变得更公平、更完善的修改，只要有部分既得利益者合起来反对，那就无法加入进去。此外，运行在区块链上的智能合约应用可能是五花八门的，必须要有办法进行安全管控，在注册和运行前需要有机制进行探测，以规避恶意代码的破坏。

区块链网络中的块信息需要写到数据库中进行存储，但目前来看，面向区块链的数据库技术仍然是需要突破的技术难点之一。

###区块链技术的其他应用
**金融服务**：交易本质上交换的是价值的所属权。现在为了完成交易（例如房屋、车辆的所属权），往往需要一些中间环节，特别是中介担保角色。这是因为，交易双方往往存在着不充分信任的情况，要证实价值所属权并不容易，而且往往彼此的价值不能直接进行交换。合理的中介担保，确保了交易的正常运行，提高了经济活动的效率，但已有的第三方中介机制往往存在成本高、时间周期长、流程复杂、容易出错等缺点。正是因为这些，金融服务成为区块链最为火热的应用领域之一。区块链技术可以为金融服务提供有效可靠的所属权证明和相当强的中介担保机制。

**资源共享**：资源共享目前面临的问题主要包括：1.共享过程成本过高；2.用户身份评分难;3.共享服务管理难。大量提供短租服务的公司已经开始尝试用区块链来解决共享中的难题。如一份来自高盛的报告中宣称：
```
Airbnb 等 P2P 住宿平台已经开始通过利用私人住所打造公开市场来变革住宿行业，但是这种服务的接受程度可能会因人们对人身安全以及财产损失的担忧而受到限制。而如果通过引入安全且无法篡改的数字化资质和信用管理系统，我们认为区块链就能有助于提升P2P住宿的接受度。该报告还指出，可能采用区块链技术的企业 Airbnb、HomeAway 以及 OneFineStay 等，市场规模为 30-90 亿美元。
```

**电商平台**：传统情况下，电商平台起到了中介的作用，一旦发生纠纷，会作为第三方机构进行审判。这种模式存在着周期长、缺乏公证、成本高等缺点。而使用区块链技术能代替平台达到监管的作用。

**物流供应链**：供应链行业往往涉及到诸多实体，包括物流、资金流、信息流等，这些实体之间存在大量复杂的协作和沟通。传统模式下，不同实体各自保存各自的供应链信息，严重缺乏透明度，造成了较高的时间成本和金钱成本，而且一旦出现问题（冒领、货物假冒等）难以追查和处理。通过区块链各方可以获得一个透明可靠的统一信息平台，可以实时查看状态，降低物流成本，追溯物品的生产和运送整个过程，从而提高供应链管理的效率。当发生纠纷时，举证和追查也变得更加清晰和容易。

**公共网络服务**：现有的互联网能正常运行，离不开很多近乎免费的网络服务，例如域名服务（DNS）。任何人都可以免费查询到域名，没有 DNS，现在的各种网站基本就无法访问了。因此，对于网络系统来说，类似的基础服务必须要能做到安全可靠，并且低成本。区块链技术恰好具备这些特点，基于区块链打造的 DNS 系统，将不再会出现各种错误的查询结果，并且可以稳定可靠的提供服务。

---
####参考资料
https://www.zhihu.com/question/27687960
https://www.zhihu.com/question/37290469
http://www.8btc.com/ebook-blockchain
https://gitlore.com/subject/59/README.md
